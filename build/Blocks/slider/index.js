(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,c=window.wp.element,s=window.wp.data,l=window.wp.editor;window.wp.coreData;const r=window.wp.components,n=window.ReactJSXRuntime,o=({currentSlide:e,innerBlocks:t,selectSlide:c,insertSlide:s})=>(0,n.jsxs)(r.ButtonGroup,{children:[t?.map((t,s)=>(0,n.jsx)(r.Button,{variant:t.clientId===e?"primary":"secondary",onClick:()=>c(t.clientId),children:s+1},t.clientId)),(0,n.jsx)(r.Button,{variant:"secondary",onClick:s,children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",children:(0,n.jsx)("path",{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})})})]}),i=[["yard/slide"]],d=["yard/slide"],a=window.wp.compose,u=window.wp.hooks,p=window.wp.i18n;(0,a.createHigherOrderComponent)(e=>t=>{const{media:o}=t;if(!o)return(0,n.jsx)(e,{...t});const{currentPostType:i}={currentPostType:(0,s.useSelect)(e=>e(l.store).getCurrentPostType())},[d,a]=(e=>{const t=(0,s.useSelect)(e=>e(l.store).getEditedPostAttribute("meta")),{editPost:r}=(0,s.useDispatch)(l.store),n=(0,c.useCallback)(t=>r({meta:{[e]:t}}),[r,e]);return[t?.[e],n]})("featured_image_focal_point"),w=(0,u.applyFilters)("yard.featured-image-focal-point-picker-allowed-post-types",[]),k=(0,c.useCallback)((e={x:.5,y:.5})=>{a(e)},[a]);return(0,c.useEffect)(()=>{0===d?.length&&k()},[d,k]),w.includes(i)&&d&&o?.source_url?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e,{...t}),(0,n.jsx)("div",{style:{marginTop:"1rem"},children:(0,n.jsx)(r.FocalPointPicker,{label:(0,p.__)("Kies een focuspunt voor de uitgelichte afbeelding."),url:o?.source_url,value:d,onChange:k,onDrag:k})})]}):(0,n.jsx)(e,{...t})},"FeaturedImageFocalPointPicker"),window.wp.notices;const w={src:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:(0,n.jsx)("path",{d:"M224 272V224H448v48 80H224V272zm0-80V144 64H448v80 48H224zM464 32H448 224 208 192 160c-35.3 0-64 28.7-64 64v32 16 16 96 16 16 32c0 35.3 28.7 64 64 64h32 16 16H448h16 16 32c35.3 0 64-28.7 64-64V288 272 256 160 144 128 96c0-35.3-28.7-64-64-64H480 464zM160 64h32v64H128V96c0-17.7 14.3-32 32-32zm-32 96h64v48 48H128V160zm0 160V288h64v64H160c-17.7 0-32-14.3-32-32zm384 32H480V288h64v32c0 17.7-14.3 32-32 32zm32-96H480V208 160h64v96zm0-128H480V64h32c17.7 0 32 14.3 32 32v32zM32 112c0-8.8-7.2-16-16-16s-16 7.2-16 16V352c0 70.7 57.3 128 128 128H464c8.8 0 16-7.2 16-16s-7.2-16-16-16H128c-53 0-96-43-96-96V112z"})}),foreground:"#00a49e"};(0,e.registerBlockType)("yard/slider",{edit:l=>{const{setAttributes:r,clientId:a}=l,[u,p]=(0,c.useState)(null),{currentBlockInnerBlocks:w}=(()=>{const{clientId:e}=(0,t.useBlockEditContext)(),l=(0,s.useSelect)(c=>c(t.store).getBlock(e)),r=(0,c.useMemo)(()=>l.innerBlocks??[],[l.innerBlocks]),n=(0,s.useSelect)(e=>e(t.store).getBlockAttributes(l.clientId)),o=(0,s.useSelect)(e=>e(t.store).hasSelectedInnerBlock(l.clientId,!0)),{updateBlockAttributes:i}=(0,s.useDispatch)(t.store),d=(0,c.useCallback)(e=>{r.forEach(t=>i(t.clientId,e))},[r,i]);return{currentBlock:l,currentBlockAttributes:n,currentBlockInnerBlocks:r,currentBlockHasSelectedInnerBlock:o,setAllCurrentBlockInnerBlocksAttributes:d}})(),k=(0,s.useSelect)(e=>e("core/block-editor").getSelectedBlockClientId()),{insertBlock:h,selectBlock:B}=(0,s.useDispatch)("core/block-editor"),v=()=>{const t=(0,e.createBlock)("yard/slide");h(t,w.length,a),p(t.clientId)},m=e=>{p(e),B(e)};return(0,c.useEffect)(()=>{w.length>0&&!u&&p(w[0].clientId)},[w]),(0,c.useEffect)(()=>{r({activeSlide:u})},[u]),(0,c.useEffect)(()=>{w.some(e=>e.clientId===k)&&p(k)},[w,k]),(0,n.jsxs)("div",{...(0,t.useBlockProps)(),children:[(0,n.jsx)(o,{currentSlide:u,innerBlocks:w,selectSlide:m,insertSlide:v}),(0,n.jsx)(t.InnerBlocks,{renderAppender:!1,allowedBlocks:d,defaultBlock:d,template:i,templateLock:!1}),(0,n.jsx)(o,{currentSlide:u,innerBlocks:w,selectSlide:m,insertSlide:v})]})},icon:w,save:()=>{const e=t.useBlockProps.save({className:"splide"});return(0,n.jsx)("div",{...e,children:(0,n.jsx)("div",{className:"splide__track",children:(0,n.jsx)("ul",{className:"splide__list",children:(0,n.jsx)(t.InnerBlocks.Content,{})})})})},providesContext:{"yard/slider-active-slide":"activeSlide"}})})();